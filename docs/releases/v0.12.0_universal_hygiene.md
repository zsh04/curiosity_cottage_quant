# v0.12.0 â€” Universal Codebase Hygiene

**Release Date:** 2025-12-21  
**Codename:** Universal Hygiene
**Focus:** Architectural Purity, Runtime Standardization & Durability.

---

## ðŸŽ¯ Highlights

This release enforces the **"Persona-First" Architecture** across the entire codebase and standardizes the runtime environment to **Python 3.11**. It eliminates technical debt, removes legacy modules, and ensures all agents (Boyd, Soros, Simons) operate under strict, verified protocols.

### ðŸ Python 3.11 Standardization

- **Runtime Lock:** The entire application is now strictly locked to **Python 3.11**.
- **Performance:** FinBERT Sentiment Analysis now runs with **ONNX Runtime Acceleration** ("Hyper-Speed"), reducing inference latency significantly.
- **Verification:** All scripts have been updated to use `#!/usr/bin/env python3.11` shebangs to prevent accidental execution with incompatible versions (e.g. 3.14).

### ðŸ‘¥ The Council: Persona-First Refactor

We have moved from generic naming to specific "Persona" identities to align code with the conceptual architecture:

- **Soros (The Philosopher):** Replaces `macro_node`. Responsible for global regime scanning and reflexive analysis.
- **Boyd (The Strategist):** Replaces `analyst_node`. Logic has been upgraded to include OODA Loop "Fallback Selection" (switching candidates if the primary is vetoed by Physics).
- **Simons (The Quant):** Replaces `execution_node`. Handles precise order slicing and state management.
- **Feynman (The Physicist):** Remains the core bridge to the Physics Veto engine.

---

## ðŸ”„ Breaking Changes

- **Legacy Removal:** `app/agent/nodes/analyst.py` and `app/agent/nodes/macro.py` have been **DELETED**. Any custom scripts importing these will fail. Update imports to `app.agent.boyd` and `app.agent.nodes.soros` respectively.
- **Forecasting Service:** `app/services/forecasting.py` has been consolidated into the unified `TimeSeriesForecaster` in `app/services/forecast.py`.
- **Imports:** Standardized on absolute imports rooted in `app.*`.

---

## ðŸ› ï¸ Fixes & Improvements

- **Reliability:** Fixed `verify_robustness.py` and `verify_persistence.py` to correctly verify the full agent state machine, including persistence to `boyd_bi_lstm`.
- **Sentiment:** Fixed `ModuleNotFoundError` for `optimum` and `onnxruntime` by enforcing dependencies in `requirements.txt`.
- **Safety:** Implemented "Critical Regime" fallback in Boyd's logicâ€”if a stock enters a chaotic regime (High Alpha), the agent now automatically searches for a stable alternative.

---

## ðŸ“Š Statistics

| Metric | Value |
|--------|-------|
| **Python Version** | 3.11 (Strict) |
| **Deleted Files** | 5+ Legacy Modules |
| **Renamed Files** | 3 (Macro->Soros, etc) |
| **Test Coverage** | 100% of Core Flows Verified |

---

## ðŸ”’ Security Notes

> [!NOTE]
> FinBERT runs locally via ONNX. No external API calls are made for sentiment analysis, ensuring strict data privacy and low latency.

---

*"Order from Chaos."*
